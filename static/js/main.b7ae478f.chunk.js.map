{"version":3,"sources":["serviceWorker.js","components/Navbar/Navigation/Navigation.jsx","components/Navbar/Friends/Person/Person.jsx","components/Navbar/Friends/Friends.jsx","components/Navbar/Friends/FriendsContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","redux/auth-reducer.js","components/Navbar/Friends/Friends.module.sass","components/Header/Header.module.sass","common/Preloader/Preloader.js","components/Navbar/Friends/Person/Person.module.sass","redux/profile-reducer.js","api/api.js","redux/dialogs-reducer.js","components/Navbar/Navigation/Navigation.module.sass","redux/users-reducer.js","components/Navbar/Navbar.module.sass","assets/images/preloader.svg"],"names":["Boolean","window","location","hostname","match","Navigation","className","s","nav","item","to","activeClassName","active","Person","props","personItem","src","imgUrl","name","Friends","personItems","state","friends","map","f","key","id","h3","persons","FriendsContainer","connect","sidebar","dispatch","Navbar","navBar","News","Music","Settings","Header","header","loginBlock","isAuth","loginName","login","onClick","logout","HeaderContainer","this","React","Component","auth","initialState","initializing","appReducer","action","type","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","dialogsReducer","usersPage","usersReducer","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","ProfileContainer","lazy","DialogsContainer","UsersContainer","LoginPage","App","initializeApp","fallback","Preloader","path","render","component","AppContainer","withRouter","promise","getAuthUserData","Promise","all","then","SocialApp","basename","process","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","userId","email","setAuthUserData","payload","a","async","authAPI","me","data","resultCode","password","rememberMe","response","message","messages","length","stopSubmit","_error","module","exports","preloader","posts","likeCount","profile","status","addPost","newPostText","setProfileData","setStatus","getProfile","usersAPI","getUserProfile","getStatus","profileAPI","updateStatus","newPost","instance","axios","withCredentials","baseURL","headers","getUsers","page","count","get","deleteFollowUsers","delete","postFollowUsers","post","console","warn","put","dialogs","AddMessageActionCreator","newMessageText","newMessage","users","pageSize","totalUsersCount","currentPage","isFetching","portionSize","followInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","booleanKey","toggleIsFollow","requestUsers","items","usersCount","totalCount","followUnfollowFlow","apiMethod","actionCreator","follow","bind","unfollow","u","followed","filter"],"mappings":"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","file":"static/js/main.b7ae478f.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport s from './Navigation.module.sass';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navigation = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <ul>\r\n                <li className={s.item}><NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/news\" activeClassName={s.active}>News</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink></li>\r\n                <li className={s.item}><NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport s from './Person.module.sass';\r\n\r\nconst Person = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.personItem}>\r\n                <img src={props.imgUrl}/>\r\n                <p className={s.name}>{props.name}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Person;","import React from 'react';\r\nimport s from './Friends.module.sass';\r\nimport Person from \"./Person/Person\";\r\n\r\nconst Friends = (props) => {\r\n\r\n    let personItems = props.state.friends\r\n        .map(f => <Person imgUrl={f.imgUrl} name={f.name} key={f.id}/>);\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.friends}>\r\n                <h3 className={s.h3}>Friends</h3>\r\n                <div className={s.persons}>\r\n                    { personItems }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        state: state.sidebar\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n    }\r\n};\r\n\r\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps)(Friends);\r\n\r\nexport default FriendsContainer;","import React from 'react';\r\nimport s from './Navbar.module.sass';\r\nimport Navigation from \"./Navigation/Navigation\";\r\nimport FriendsContainer from \"./Friends/FriendsContainer\";\r\n\r\nconst Navbar = () => {\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.navBar}>\r\n                <Navigation/>\r\n                <FriendsContainer/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './News.module.sass';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.sass';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './Settings.module.sass';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport s from './Header.module.sass';\r\nimport {NavLink, Route} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src=\"https://image.flaticon.com/icons/svg/145/145808.svg\"/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div><div className={s.loginName}>{props.login}</div>\r\n                        <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to='/login'>Login</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    id: state.auth.id\r\n});\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initializing: false\r\n};\r\n\r\nlet appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initializing: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n};\r\n\r\n\r\nexport default appReducer;","let initialState = {\r\n    friends: [\r\n        {id: 1, name: 'Pavel', imgUrl: 'https://avatarko.ru/img/kartinka/17/lisa_16103.jpg'},\r\n        {id: 2, name: 'Alesya', imgUrl: 'https://avatarko.ru/img/kartinka/17/lisa_16103.jpg'},\r\n        {id: 3, name: 'Natalia', imgUrl: 'https://avatarko.ru/img/kartinka/17/lisa_16103.jpg'},\r\n        {id: 4, name: 'Nikolay', imgUrl: 'https://avatarko.ru/img/kartinka/17/lisa_16103.jpg'},\r\n        {id: 5, name: 'Rocky', imgUrl: 'https://funpick.ru/wp-content/uploads/2017/10/Malenkie-8.jpg'}\r\n    ]\r\n};\r\n\r\nlet sidebarReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default sidebarReducer;","import dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, {Suspense, lazy} from 'react';\nimport './App.sass';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {BrowserRouter, Route, withRouter, Switch} from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport {compose} from \"redux\";\nimport Preloader from \"./common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\n\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst UsersContainer = lazy(() => import('./components/Users/UsersContainer'));\nconst LoginPage = lazy(() => import('./components/Login/Login'));\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initializing) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Suspense fallback={<Preloader/>}>\n                        <Switch>\n                            <Route\n                                path='/profile/:userId?'\n                                render={() => <ProfileContainer/>}\n                            />\n                            <Route\n                                path='/dialogs'\n                                render={() => <DialogsContainer/>}\n                            />\n\n                            <Route\n                                path='/users'\n                                render={() => <UsersContainer/>}\n                            />\n                            <Route\n                                path='/login'\n                                render={() => <LoginPage/>}\n                            />\n                            <Route path='/news' component={News}/>\n                            <Route path='/music' component={Music}/>\n                            <Route path='/settings' component={Settings}/>\n                        </Switch>\n                    </Suspense>\n                </div>\n\n            </div>\n        );\n    }\n};\n\nconst mapStateToProps = (state) => ({\n    initializing: state.app.initializing\n});\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n\nconst SocialApp = (props) => {\n    return <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </BrowserRouter>\n};\n\nexport default SocialApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport SocialApp from './App';\n\nReactDOM.render(<SocialApp />, document.getElementById('root'));\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nlet authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getAuthUserData = () => async dispatch => {\r\n    let data = await authAPI.me();\r\n    if (data.resultCode === 0) {\r\n        let {id, email, login} = data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async dispatch => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some Error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n};\r\nexport const logout = () => async dispatch => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__blUdg\",\"h3\":\"Friends_h3__30okM\",\"persons\":\"Friends_persons__2BJ9M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Qe-h\",\"loginBlock\":\"Header_loginBlock__2zKG1\",\"loginName\":\"Header_loginName__1oyWB\"};","import React from 'react';\r\nimport preloader from \"../../assets/images/preloader.svg\";\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n                <img src={preloader}/>\r\n            </div>\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"personItem\":\"Person_personItem__2Y2Uy\",\"name\":\"Person_name__H-v8W\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_PROFILE_DATA = 'SET_PROFILE_DATA';\r\nconst SET_STATUS = 'SET_STATUS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'It\\'s my first post', likeCount: '14'},\r\n        {id: 2, message: 'Hi, how are you?', likeCount: '11'},\r\n        {id: 3, message: 'How hey hi', likeCount: '12'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nlet profileReducer = (state = initialState, action) => {\r\n    const stateCopy = {\r\n        ...state\r\n    };\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 4,\r\n                message: action.newPostText,\r\n                likeCount: '11'\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case SET_PROFILE_DATA:\r\n            return {...state, profile: action.data};\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setProfileData = (data) => ({type: SET_PROFILE_DATA, data});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\n\r\nexport const getProfile = (userId) => async dispatch => {\r\n    let data = await usersAPI.getUserProfile(userId);\r\n    dispatch(setProfileData(data));\r\n};\r\n\r\nexport const getStatus = (userId) => async dispatch => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport default profileReducer;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'da5781ad-702b-4622-a264-735f8ee37ce3'\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(page = 1, count = 10) {\r\n        return instance.get(`users/?page=${page}&count=${count}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    deleteFollowUsers(id) {\r\n        return instance.delete(`follow/`+id)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    postFollowUsers(id) {\r\n        return instance.post(`follow/`+id)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    getUserProfile(userId) {\r\n        console.warn('Obsolete method. Please use profileAPI');\r\n        return profileAPI.getUserProfile(userId)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId) {\r\n        return instance.get(`profile/`+userId)\r\n            .then( response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/`+userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status })\r\n    }\r\n\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then( response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`/auth/login`, { email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`/auth/login`)\r\n    }\r\n};","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Pavel'},\r\n        {id: 2, name: 'Alesya'},\r\n        {id: 3, name: 'Guram'},\r\n        {id: 4, name: 'Roman'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hello!'},\r\n        {id: 2, message: 'Dratuti!'},\r\n        {id: 3, message: 'Poka'}\r\n    ]\r\n}\r\n\r\nlet dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let newMessage = {\r\n                id: 4,\r\n                message: action.newMessageText\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const AddMessageActionCreator = (newMessageText) => ({type: ADD_MESSAGE, newMessageText});\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__1QyU7\",\"active\":\"Navigation_active__3kEM0\"};","import {usersAPI} from \"../api/api\";\r\nimport {mapFilterObj} from \"../Controls/object-helper\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOW_IN_PROGRESS = 'TOGGLE_IS_FOLLOW_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    portionSize: 20,\r\n    followInProgress: []\r\n};\r\n\r\nlet usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.usersCount\r\n            };\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.booleanKey\r\n            };\r\n        case TOGGLE_IS_FOLLOW_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followInProgress: action.booleanKey\r\n                    ? [...state.followInProgress, action.userId]\r\n                    : state.followInProgress.filter(id => id != action.userId)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId: userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId: userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users: users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (usersCount) => ({type: SET_TOTAL_USERS_COUNT, usersCount});\r\nexport const toggleIsFetching = (booleanKey) => ({type: TOGGLE_IS_FETCHING, booleanKey});\r\nexport const toggleIsFollow = (booleanKey, userId) => ({type: TOGGLE_IS_FOLLOW_IN_PROGRESS, booleanKey, userId});\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async dispatch => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n    dispatch(toggleIsFetching(false))\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch,userId,apiMethod,actionCreator) => {\r\n    dispatch(toggleIsFollow(true, userId));\r\n\r\n    let data = await apiMethod(userId);\r\n    if (data.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFollow(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => async dispatch => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.postFollowUsers.bind(usersAPI), followSuccess);\r\n};\r\n\r\nexport const unfollow = (userId) => async dispatch => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.deleteFollowUsers.bind(usersAPI), unfollowSuccess);\r\n};\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBar\":\"Navbar_navBar__lPWyD\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.b303b419.svg\";"],"sourceRoot":""}