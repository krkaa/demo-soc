(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[1],{137:function(e,t,n){e.exports=n(229)},142:function(e,t,n){},143:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(43),i=n.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(142);var c=n(31),u=n(32),o=n(35),l=n(33),m=n(36),d=(n(143),n(83)),f=n.n(d),p=n(8),g=n.n(p),E=n(13),v=function(){return r.a.createElement("nav",{className:g.a.nav},r.a.createElement("ul",null,r.a.createElement("li",{className:g.a.item},r.a.createElement(E.b,{to:"/profile",activeClassName:g.a.active},"Profile")),r.a.createElement("li",{className:g.a.item},r.a.createElement(E.b,{to:"/dialogs",activeClassName:g.a.active},"Messages")),r.a.createElement("li",{className:g.a.item},r.a.createElement(E.b,{to:"/users",activeClassName:g.a.active},"Users")),r.a.createElement("li",{className:g.a.item},r.a.createElement(E.b,{to:"/news",activeClassName:g.a.active},"News")),r.a.createElement("li",{className:g.a.item},r.a.createElement(E.b,{to:"/music",activeClassName:g.a.active},"Music")),r.a.createElement("li",{className:g.a.item},r.a.createElement(E.b,{to:"/settings",activeClassName:g.a.active},"Settings"))))},h=n(22),b=n(44),_=n.n(b),O=n(57),w=n.n(O),S=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:w.a.personItem},r.a.createElement("img",{src:e.imgUrl}),r.a.createElement("p",{className:w.a.name},e.name)))},y=function(e){var t=e.state.friends.map((function(e){return r.a.createElement(S,{imgUrl:e.imgUrl,name:e.name,key:e.id})}));return r.a.createElement("div",null,r.a.createElement("div",{className:_.a.friends},r.a.createElement("h3",{className:_.a.h3},"Friends"),r.a.createElement("div",{className:_.a.persons},t)))},j=Object(h.b)((function(e){return{state:e.sidebar}}),(function(e){return{}}))(y),N=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:f.a.navBar},r.a.createElement(v,null),r.a.createElement(j,null)))},T=n(21),U=(n(148),function(e){return r.a.createElement("div",null,"News")}),I=(n(149),function(e){return r.a.createElement("div",null,"Music")}),P=(n(150),function(e){return r.a.createElement("div",null,"Settings")}),k=n(45),C=n.n(k),A=function(e){return r.a.createElement("header",{className:C.a.header},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/145/145808.svg"}),r.a.createElement("div",{className:C.a.loginBlock},e.isAuth?r.a.createElement("div",null,r.a.createElement("div",{className:C.a.loginName},e.login),r.a.createElement("button",{onClick:e.logout},"Log out")):r.a.createElement(E.b,{to:"/login"},"Login")))},x=n(25),L=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(A,this.props)}}]),t}(r.a.Component),F=Object(h.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,id:e.auth.id}}),{logout:x.d})(L),R=n(4),D={initializing:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(R.a)({},e,{initializing:!0});default:return e}},z=n(17),M=n(51),W=n(75),B=n(60),H={friends:[{id:1,name:"Pavel",imgUrl:"https://avatarko.ru/img/kartinka/17/lisa_16103.jpg"},{id:2,name:"Alesya",imgUrl:"https://avatarko.ru/img/kartinka/17/lisa_16103.jpg"},{id:3,name:"Natalia",imgUrl:"https://avatarko.ru/img/kartinka/17/lisa_16103.jpg"},{id:4,name:"Nikolay",imgUrl:"https://avatarko.ru/img/kartinka/17/lisa_16103.jpg"},{id:5,name:"Rocky",imgUrl:"https://funpick.ru/wp-content/uploads/2017/10/Malenkie-8.jpg"}]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;return t.type,e},J=n(82),Q=n(88),X=n(81),Y=Object(z.c)({profilePage:B.b,messagesPage:W.b,sidebar:K,usersPage:J.a,auth:x.a,form:X.a,app:G}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d,V=Object(z.e)(Y,Z(Object(z.a)(Q.a)));window.__store__=V;var $=V,q=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,308))})),ee=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,309))})),te=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,310))})),ne=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,311))})),ae=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initializing?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(F,null),r.a.createElement(N,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(M.a,null)},r.a.createElement(T.d,null,r.a.createElement(T.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(q,null)}}),r.a.createElement(T.b,{path:"/dialogs",render:function(){return r.a.createElement(ee,null)}}),r.a.createElement(T.b,{path:"/users",render:function(){return r.a.createElement(te,null)}}),r.a.createElement(T.b,{path:"/login",render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(T.b,{path:"/news",component:U}),r.a.createElement(T.b,{path:"/music",component:I}),r.a.createElement(T.b,{path:"/settings",component:P}))))):r.a.createElement(M.a,null)}}]),t}(r.a.Component),re=Object(z.d)(T.g,Object(h.b)((function(e){return{initializing:e.app.initializing}}),{initializeApp:function(){return function(e){var t=e(Object(x.b)());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(ae),se=function(e){return r.a.createElement(E.a,{basename:"/demo-soc"},r.a.createElement(h.a,{store:$},r.a.createElement(re,null)))};i.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return d}));var a=n(5),r=n.n(a),s=n(4),i=n(7),c=n(46),u={userId:null,email:null,login:null,isAuth:!1},o=function(e,t,n,a){return{type:"SET_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:a}}},l=function(){return function(e){var t,n,a,s,c;return r.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,r.a.awrap(i.a.me());case 2:0===(t=u.sent).resultCode&&(n=t.data,a=n.id,s=n.email,c=n.login,e(o(a,s,c,!0)));case 4:case"end":return u.stop()}}))}},m=function(e,t,n){return function(a){var s,u;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.a.awrap(i.a.login(e,t,n));case 2:0===(s=o.sent).data.resultCode?a(l()):(u=s.data.messages.length>0?s.data.messages[0]:"Some Error",a(Object(c.a)("login",{_error:u})));case 4:case"end":return o.stop()}}))}},d=function(){return function(e){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(i.a.logout());case 2:0===t.sent.data.resultCode&&e(o(null,null,null,!1));case 4:case"end":return t.stop()}}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(s.a)({},e,{},t.payload);default:return e}}},44:function(e,t,n){e.exports={friends:"Friends_friends__blUdg",h3:"Friends_h3__30okM",persons:"Friends_persons__2BJ9M"}},45:function(e,t,n){e.exports={header:"Header_header__2Qe-h",loginBlock:"Header_loginBlock__2zKG1",loginName:"Header_loginName__1oyWB"}},51:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(87),i=n.n(s);t.a=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:i.a}))}},57:function(e,t,n){e.exports={personItem:"Person_personItem__2Y2Uy",name:"Person_name__H-v8W"}},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p}));var a=n(5),r=n.n(a),s=n(26),i=n(4),c=n(7),u={posts:[{id:1,message:"It's my first post",likeCount:"14"},{id:2,message:"Hi, how are you?",likeCount:"11"},{id:3,message:"How hey hi",likeCount:"12"}],profile:null,status:""},o=function(e){return{type:"ADD-POST",newPostText:e}},l=function(e){return{type:"SET_PROFILE_DATA",data:e}},m=function(e){return{type:"SET_STATUS",status:e}},d=function(e){return function(t){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(c.c.getUserProfile(e));case 2:n=a.sent,t(l(n));case 4:case"end":return a.stop()}}))}},f=function(e){return function(t){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(c.b.getStatus(e));case 2:n=a.sent,t(m(n.data));case 4:case"end":return a.stop()}}))}},p=function(e){return function(t){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.b.updateStatus(e));case 2:0===n.sent.data.resultCode&&t(m(e));case 4:case"end":return n.stop()}}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;Object(i.a)({},e);switch(t.type){case"ADD-POST":var n={id:4,message:t.newPostText,likeCount:"11"};return Object(i.a)({},e,{posts:[].concat(Object(s.a)(e.posts),[n])});case"SET_STATUS":return Object(i.a)({},e,{status:t.status});case"SET_PROFILE_DATA":return Object(i.a)({},e,{profile:t.data});default:return e}}},7:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(86),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"da5781ad-702b-4622-a264-735f8ee37ce3"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users/?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},deleteFollowUsers:function(e){return r.delete("follow/"+e).then((function(e){return e.data}))},postFollowUsers:function(e){return r.post("follow/"+e).then((function(e){return e.data}))},getUserProfile:function(e){return console.warn("Obsolete method. Please use profileAPI"),i.getUserProfile(e)}},i={getUserProfile:function(e){return r.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})}},c={me:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("/auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("/auth/login")}}},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(26),r=n(4),s={dialogs:[{id:1,name:"Pavel"},{id:2,name:"Alesya"},{id:3,name:"Guram"},{id:4,name:"Roman"}],messages:[{id:1,message:"Hello!"},{id:2,message:"Dratuti!"},{id:3,message:"Poka"}]},i=function(e){return{type:"ADD-MESSAGE",newMessageText:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":var n={id:4,message:t.newMessageText};return Object(r.a)({},e,{messages:[].concat(Object(a.a)(e.messages),[n])});default:return e}}},8:function(e,t,n){e.exports={nav:"Navigation_nav__1QyU7",active:"Navigation_active__3kEM0"}},82:function(e,t,n){"use strict";var a=n(5),r=n.n(a),s=n(26),i=n(4),c=n(7);n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return v}));var u={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,portionSize:20,followInProgress:[]},o=function(e){return{type:"FOLLOW",userId:e}},l=function(e){return{type:"UNFOLLOW",userId:e}},m=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},d=function(e){return{type:"TOGGLE_IS_FETCHING",booleanKey:e}},f=function(e,t){return{type:"TOGGLE_IS_FOLLOW_IN_PROGRESS",booleanKey:e,userId:t}},p=function(e,t){return function(n){var a;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n(d(!0)),n(m(e)),s.next=4,r.a.awrap(c.c.getUsers(e,t));case 4:a=s.sent,n({type:"SET_USERS",users:a.items}),n({type:"SET_TOTAL_USERS_COUNT",usersCount:a.totalCount}),n(d(!1));case 8:case"end":return s.stop()}}))}},g=function(e,t,n,a){return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e(f(!0,t)),s.next=3,r.a.awrap(n(t));case 3:0==s.sent.resultCode&&e(a(t)),e(f(!1,t));case 6:case"end":return s.stop()}}))},E=function(e){return function(t){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(g(t,e,c.c.postFollowUsers.bind(c.c),o));case 2:case"end":return n.stop()}}))}},v=function(e){return function(t){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(g(t,e,c.c.deleteFollowUsers.bind(c.c),l));case 2:case"end":return n.stop()}}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(i.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(i.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)({},e,{followed:!1}):e}))});case"SET_USERS":return Object(i.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(i.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(i.a)({},e,{totalUsersCount:t.usersCount});case"TOGGLE_IS_FETCHING":return Object(i.a)({},e,{isFetching:t.booleanKey});case"TOGGLE_IS_FOLLOW_IN_PROGRESS":return Object(i.a)({},e,{followInProgress:t.booleanKey?[].concat(Object(s.a)(e.followInProgress),[t.userId]):e.followInProgress.filter((function(e){return e!=t.userId}))});default:return e}}},83:function(e,t,n){e.exports={navBar:"Navbar_navBar__lPWyD"}},87:function(e,t,n){e.exports=n.p+"static/media/preloader.b303b419.svg"}},[[137,2,3]]]);
//# sourceMappingURL=main.b7ae478f.chunk.js.map